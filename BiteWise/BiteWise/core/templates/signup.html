{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-signin-client_id" content="YOUR_CLIENT_ID.apps.googleusercontent.com">
    <title>Cadastro</title>
    <!--Bootstrap5 CSS-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
    <!--Local CSS-->
    <link rel="stylesheet" href="{% static 'styles/signup.css' %}">
    <link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet" type="text/css">

    <script src="https://apis.google.com/js/api:client.js"></script>
  <script>
  var googleUser = {};
  var startApp = function() {
    gapi.load('auth2', function(){
      // Retrieve the singleton for the GoogleAuth library and set up the client.
      auth2 = gapi.auth2.init({
        client_id: 'YOUR_CLIENT_ID.apps.googleusercontent.com',
        cookiepolicy: 'single_host_origin',
        // Request scopes in addition to 'profile' and 'email'
        //scope: 'additional_scope'
      });
      attachSignin(document.getElementById('customBtn'));
    });
  };

  function attachSignin(element) {
    console.log(element.id);
    auth2.attachClickHandler(element, {},
        function(googleUser) {
          document.getElementById('name').innerText = "Signed in: " +
              googleUser.getBasicProfile().getName();
        }, function(error) {
          alert(JSON.stringify(error, undefined, 2));
        });
  }
  </script>

<style type="text/css">
  #customBtn {
    display: flex;
    flex-direction: row;
    background: white;
    color: #000000;
    width: 300px;
    border-radius: 5px;
    border: thin solid #B2B8C4;
    align-items: center;
    justify-content: center;
    margin-top: 10px;
  }
  #customBtn:hover {
    cursor: pointer;
  }
  span.label {
    font-family: serif;
    font-weight: normal;
  }
  span.icon {
    background: url('/identity/sign-in/g-normal.png') transparent 5px 50% no-repeat;
    display: flex;
    align-items: center;
    width: 40px;
    height: 39px;
  }
  span.buttonText {
    display: inline-block;
    vertical-align: middle;
    padding-left: 25px;
    padding-right: 0;
    font-size: 16px;
    font-weight: bold;
    /* Use the Roboto font that is loaded in the <head> */
    font-family: 'Poppins', sans-serif;
  }
  div.btn-divider {
    display: flex;
    border-right: 1px solid #B2B8C4;
    height: 39px;
    width: 70px;
    justify-content: center;
    align-items: center;
  }
</style>
    
</head>
<body>
  <header>
    <nav class="navbar navbar-expand-lg navbar-bg">
        <div class="container-fluid nav-right-side">
          <a href="{% url 'home' %}"><img src="{% static 'imgs/Logo.svg' %}" alt="Logo" class="nav-logo"></a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse " id="navbarSupportedContent" >
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item ">
                <a class="nav-link nav-font-color" aria-current="page" href="{% url 'about' %}">Sobre nós</a>
              </li>
              <li class="nav-item">
                <a class="nav-link nav-font-color" href="{% url 'contato' %}">Contato</a>
              </li>
            </ul>

            {% if user.is_authenticated %}
            <!-- Menu para usuários logados com dropdown de perfil -->
            <div class="dropdown-container" id="dropdown-container">
              <a href="{% url 'perfil' %}" class="profile-btn">Meu Perfil</a>
              <div class="dropdown-icons-wrapper">
                <img src="{% static 'imgs/user-empty-pfp.svg' %}" alt="profile picture" class="profile-img">
                <img src="{% static 'imgs/down-arrow.svg' %}" alt="down arrow" class="arrow-img" id="dropdown-toggle">
              </div>
              <div class="dropdown-content" id="dropdown-content">
                <div class="dropdown-content-header">
                  <a href="{% url 'perfil' %}">Meu perfil</a>
                  <a href="#">Minhas receitas</a>
                  <a href="#">Assinatura</a>
                </div>
                <hr>
                <div class="dropdown-content-footer">
                  <form id="logout-form" action="{% url 'logout' %}" method="POST">
                    {% csrf_token %}
                    <button type="submit" class="dropdown-item">Sair</button>
                  </form>
                </div>
              </div>
            </div>
            {% else %}
            <!-- Menu para usuários deslogados -->
            <a href="{% url 'login' %}" class="nav-link nav-font-color nav-btn-margin">Iniciar sessão</a>
            <a class="btn nav-btn-font nav-btn" href="{% url 'signup' %}">Começar Gratuitamente</a>
            {% endif %}
          </div>
        </div>
      </nav>
</header>
          <main>
            <div class="form-container">
              <img src="{% static 'imgs/Logo2.svg' %}" alt="form-logo" class="form-logo">
              <div class="title-container">
              <h1 class="form-title">Cadastro</h1>
              </div>

              <form action="" class="form-input-container">
                <div class="form-item-container">
                  <p class="input-title">Nome</p>
                  <input type="text" class="input">
                </div>
                <div class="form-item-container">
                  <p class="input-title">E-mail</p>
                  <input type="text" class="input">
                </div>
                <div class="form-item-container">
                  <p class="input-title">Telefone</p>
                  <input type="text" class="input">
                </div>
                <div class="form-item-container">
                  <p class="input-title">Senha</p>
                  <input type="text" class="input">
                </div>
                <div class="form-item-container">
                  <p class="input-title">Confirmar Senha</p>
                  <input type="text" class="input">
                </div>
                <div class="signup-btn-container">
                <button class="btn signup-btn">Criar conta</button>
                </div>
              </form>
              <hr class="divider"> 
              <div id="gSignInWrapper">
                
                <div id="customBtn" class="customGPlusSignIn">
                  <div class="btn-divider">
                    <span class="icon"><img src="{% static 'imgs/Google-Logo.svg' %}" alt="" height="30px" width="30px"></span>
                  </div>
                  <span class="buttonText">Ou entre com Google.</span>
                </div>
              </div>
              <div id="name"></div>
              <script>startApp();</script>
              
              <div class="login-container">
              <span class="login-text">Já tenho uma conta, <a href="{% url 'login'%}" class="login-link">Login</a></span>
            </div>
            </div>
            
          </main>

          <footer>
            <div class="footer-container">
              <div class="footer-text-wrapper">
                <span class="footer-text">© 2024 BiteWise. Todos os direitos reservados.</span>
                <span class="footer-text">Tel: (19) 99999-9999 </span>
                <span class="footer-text">bitewise.contato@email.com</span>
              </div>
              <div class="footer-icons-container">
                <a href="#"><img src="{% static 'imgs/facebook.svg' %}" alt="faceboo" class="facebook"></a>
                <a href="#"><img src="{% static 'imgs/instagram.svg' %}" alt="instagram" class="instagram"></a>
                <a href="#"><img src="{% static 'imgs/TikTok.svg' %}" alt="tiktok" class="tiktok"></a>
              </div>
            </div>
          </footer>
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>